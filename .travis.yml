language: java
jdk:
- openjdk8
dist: bionic
script:
- mvn verify
after_success:
- mvn coveralls:report
- test "${TRAVIS_PULL_REQUEST}" == "false" && test "${TRAVIS_TAG}" != "" && mvn deploy
  --settings travis/settings.xml -DskipTests=true -Possrh -Prelease
cache:
  directories:
  - "~/.m2"
branches:
  only:
  - master
  - "/^bullet-core-[0-9]+\\.[0-9]+\\.[0-9]+/"
env:
  global:
  - GPG_EXECUTABLE=gpg
  - secure: T02IrLk8vj2xrAZOvXg55Wx9sWgWKAE5A7ryAHRyHD3u489hjS12HrgDnB4sfhGqVninANMH4ebbDefKfrAeGwNFfIw8v+D3CwmpXoOj4ZjQNvafaxpe1qzHbtLm7BwpQeOMz3TJz/AEjiutIoydFb48QIVnoKaoMhR13UiX8lnV8F+Brms2dkuDAbDSfXOZoVMJS53oMtZsk9AaHd+Q1259dDFT0Ps7ZyWpb/gnrJwV8XQpIsjrn9FPo+N+gJxlilrq3Rq8F9frl5e5dae8hZefwEBu/FLARCrPdAcIrRkvEfiS1zcvgpuVNnY3KMxUq0L2mz17+69Wmb1eYD6K8gkjoLrEtoi3qUfHOutPueHSaIsZkdS9pejXyr+ueM+C5w29htHzBSlWEK08WVve6ElpklD8ExCF6CsU53SWJEmn8h240FGYYJ5YOVv46EseXK5Ez3yM5C+fyrd7/BaUT3/Rk6KdCcTCLbBf85kczvabcAIT2vnAj2E9AA96UUxYHO0ywKWd1d4gz8AWlsryBvEIiN8rnL89YrXmEv++z8Eq96dyVxHlBpoRTUtZDplx5Z6ML7RVmT0qxu6EMFZDCQYyYWYxa4danRBRwmuqsx+GfgSdOZ6HqmOdnmcU2rwpDklEfISIM6Epc0A1EDYYSlPIHxOWRojK+COj6qJArV0=
  - secure: oUYkUGxxsQZ++qa1LZq1mHvD+aIIhZ3V3WwqD5UXcYcStNhRIYQc6emn9YusyoeRkczJ1yHysBaxYYXCt9t9Ojd+d6A6OWyrTS+I0O+7hO/q6Dzyq6kYWQcJGDyp6GN08biVJNkobw/qHEA9Gtmb7J2/OQQAbyxQrpoM9x2Sp4UG1hksd1qoWll8QFELkD/1/KUAKCy48qNQXcJ6cvpNvFczTEi5QgPbEyzP7uwuWr7ZrSc3ZMuDZpvfsx0W9Qd+sEtW4zLpvS4O6fW4dB2fIo47h3G1rNe4oDSBLuSdPSOCCMZnY4otaPEVMTnnphuEvumudyAVlcMoYUTtjcQ2S5dq8O3WJqLGL4wDlof99SNakzPavgUMxs8JmCwiViTMldmQxQSXWKKDsOpksOiEwmaXsaWpGcxcN0WM191+GdyJSoNvB25lniSZ5j0Tci9HCO5fv5ZG9rAfUUtGgj0/VNTuX04qVHol1a0gbqILJm+Tcf7M3QJNwAWr4K3ZjReBen9VnY50St6gAswuwhALOb5s+tO2xuiZvpE7omJ5XtQHM+wvotJqmMHRTpzgE7w5TGO6MfnoLir+1P6FqY3LUqLh+OjRjUrGURNXjEQbTav1p/g9+Gm8Yg9U4ORVUy5jHOTjJUmMsILQuzqqVLB//SR0f56s37Q58cvTmYkzAZM=
  - secure: P0pNNlkZiTE5Kv3sx7ZXm0g9veNaMKRVd5hz+HiYeIKxlyMubl80QL2iB3KLdbtCKt0E5OlA71aBOUpURk6N10HTqlxa6QJH48qW8QBbX68qqz7LP7JcjjK0Z0rYMu1+OZZfpGlSL2FY3KMPNtyzg9b2aEmeFjlvbm55NeNhxC8JVFO8oxkMOkIVOoHWLNRl/I2IG/bTkrJfFXPdUiJPQfYYp6UwAzPgwP4sTSq95a/7VjyEiLERAUrN4DT8h7Si2J/Qc3AEdpC9y60y0JkYfiEKBwSK0DT1qNEsVOiXkphILosp8ARdYgF2DZw5MpVpn5R38Q4Dq1SzITAEHA4h9WAyCzo6BFvTblTX32/bIidYBZIkwwxFC1UhDwQQI2X4iVx0GTN9Folpt02TL7eEJHIQ5hYOxHDFMW91ZwTQAW9HslA4Je4xKDSQ+qVKlQwVe+T8wm9qF75dWed6c0S9Nc7vIXHXZ6JpYzfLBlQGlGn1kxVuvWuH3uwah6Q/FXlQmDRqjchlflFV96mD/SSfKVgH+TLaBWC1rAVaSOsl3Uep513YhVkmWXqTSRU1MCatINJ8h/GLVIE5T9whzY8kklCG46UAuzJeKhQ4WaYtZtmG/QrctHZ0S7ipPPLCAlgEh6TvXZRKw43Jb/syKyKxT4Fsxk37oXaKI1WxMxroqGw=
before_install:
- openssl aes-256-cbc -K $encrypted_5c292d804727_key -iv $encrypted_5c292d804727_iv
  -in secring.gpg.enc -out travis/secring.gpg -d
- openssl aes-256-cbc -K $encrypted_8f2a81d544cc_key -iv $encrypted_8f2a81d544cc_iv
  -in pubring.gpg.enc -out travis/pubring.gpg -d
